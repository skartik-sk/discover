# Production Environment Variables
# Copy this file to .env.local and fill in your production values

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# SUPABASE CONFIGURATION
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Get these from: https://app.supabase.com/project/_/settings/api
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# NEXTAUTH CONFIGURATION
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# IMPORTANT: This MUST match your production domain
# Examples:
#   - Vercel: https://your-app.vercel.app
#   - Netlify: https://your-app.netlify.app
#   - Custom: https://yourdomain.com
NEXTAUTH_URL=https://your-production-domain.com

# Generate with: openssl rand -base64 32
# MUST be a strong secret for production!
NEXTAUTH_SECRET=your-super-secret-nextauth-secret-min-32-chars

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# GOOGLE OAUTH CONFIGURATION
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Get these from: https://console.cloud.google.com/apis/credentials
# IMPORTANT: Add authorized redirect URI in Google Console:
#   https://your-production-domain.com/api/auth/callback/google
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# PRODUCTION SETUP CHECKLIST
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# 1. Supabase Setup:
#    - Create project at https://supabase.com
#    - Run migrations from supabase/migrations/
#    - Get API keys from Settings > API
#    - Enable Row Level Security (RLS) on all tables

# 2. Google OAuth Setup:
#    - Go to https://console.cloud.google.com
#    - Create OAuth 2.0 Client ID (Web application)
#    - Add authorized JavaScript origins:
#      * https://your-production-domain.com
#    - Add authorized redirect URIs:
#      * https://your-production-domain.com/api/auth/callback/google
#    - Copy Client ID and Client Secret

# 3. NextAuth Setup:
#    - Set NEXTAUTH_URL to your production domain (with https://)
#    - Generate NEXTAUTH_SECRET: openssl rand -base64 32
#    - NEVER commit .env.local to git!

# 4. Deployment Platform (Vercel/Netlify):
#    - Add all environment variables in platform dashboard
#    - Set NEXTAUTH_URL to your deployment URL
#    - Ensure NEXTAUTH_SECRET is set
#    - Redeploy after adding environment variables

# 5. Testing:
#    - Test Google login in production
#    - Verify users are created in Supabase
#    - Check browser console for errors
#    - Test on mobile devices

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# TROUBLESHOOTING GOOGLE AUTH
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# If Google OAuth not working in production:
# 1. Check Google Console redirect URIs match EXACTLY
# 2. Ensure NEXTAUTH_URL is set correctly (https, not http)
# 3. Verify environment variables are set in deployment platform
# 4. Check browser console for CORS or redirect errors
# 5. Clear cookies and try again
# 6. Wait 5-10 minutes after updating Google Console settings

# Common errors:
# - "redirect_uri_mismatch": Update Google Console URIs
# - "invalid_client": Check GOOGLE_CLIENT_ID and SECRET
# - "Configuration error": Check NEXTAUTH_URL and SECRET
# - Session not persisting: Check cookie settings (secure flag)
